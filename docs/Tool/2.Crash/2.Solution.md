# 典型崩溃问答

本章通过问答形式，帮助您快速定位并解决 Minecraft 崩溃问题。

## 崩溃后第一步 & 基础自查

**Q0.1: 我的游戏崩溃了，第一件事该做什么？**

**A:** 游戏崩溃通常与Mod或系统环境有关，而不是你的操作。请**不要**简单地截图崩溃界面。正确的做法是：
**导出完整报告**: 使用 HMCL、PCL 等启动器时，在崩溃界面点击“导出游戏崩溃信息”。你会得到一个压缩包。
**寻求帮助**: 如果需要他人帮助，请将**整个压缩包**发送给对方，这包含了诊断问题所需的所有信息。

**Q0.2: 在深入排查前，我应该先检查哪些最基础的问题？**

**A:** 为了避免走弯路，请先进行以下自查：

1. **是否在压缩包内运行游戏？** 必须解压整合包后再运行启动器。
2. **启动器是否为最新版？** 旧版启动器可能存在已知问题，请先更新。
3. **是否直接复制的游戏目录？** 如果是从别人电脑直接拷贝的，启动参数可能错误。请通过启动器重装游戏版本。
4. **是否更换了启动器？** 不同启动器管理游戏目录的方式不同，混用会导致问题。请固定使用一个启动器并重装游戏版本。
5. **游戏路径是否含非英文字符？** 游戏路径必须是纯英文，例如 `D:\Games\Minecraft`。
6. **是否乱加了“优化”参数？** 不要使用网上来历不明的“Java虚拟机参数”，它们可能导致不稳定。请清空它们（整合包作者特别说明的除外）。
7. **是否在64位系统上用了32位Java？** 32位Java最多只能分配约1.5GB内存。请确保在64位系统上安装和使用64位Java。

**使用指南：**

1. 当游戏崩溃时，找到最新的崩溃报告 (`.minecraft/crash-reports` 文件夹) 或日志文件 (`.minecraft/logs/latest.log`)。
2. 按下 `Ctrl + F`，搜索您在日志中看到的**关键错误信息**或**核心词汇**来快速定位问题。

## 一、启动时崩溃 (Crashes on Launch)

此类问题发生在游戏启动后，未能成功进入主菜单的阶段。

### **A. Mod 依赖与兼容性问题**

**Q1.1: 游戏启动失败，日志提示缺少依赖 (如 `Missing dependencies`, `requires... which is missing!`) 或版本不兼容，如何处理？**

**A:** 这是因为 Mod 缺少必要的前置 Mod，或者前置 Mod 的版本不正确。

**Forge / NeoForge 日志解读**:
**关键词**: `Missing or unsupported mandatory dependencies:`
**示例日志**:
    ```log
    Missing or unsupported mandatory dependencies:
            Mod ID: 'blueprint', Requested by: 'boatload', Expected range: '[5.4.0,)', Actual version: '[MISSING]'
    ```
**如何解读**:
    `Requested by: 'boatload'`: `boatload` Mod 需要一个依赖。
    `Mod ID: 'blueprint'`: 需要的依赖是 `blueprint`。
    `Expected range: '[5.4.0,)'`: 需要的 `blueprint` 版本必须大于或等于 `5.4.0`。
    `Actual version: '[MISSING]'`: 你当前**没有安装**这个依赖。

**Fabric / Quilt 日志解读**:
**关键词**: `Mod resolution encountered an incompatible mod set!`, `which is missing!`, `requires... but only the wrong version is present`
**示例日志 1 (缺少前置)**:
    ```log
    Unmet dependency listing:
         - Mod 'Zoomify' (zoomify) 2.11.0 requires any version of fabric-api, which is missing!
    // Quilt 日志类似:
    Sodium Extra requires version [0.4.10, ∞) of sodium, which is missing!
    ```
**如何解读**: `Zoomify` 或 `Sodium Extra` Mod 需要 `fabric-api` 或 `sodium`，但你没有安装。
**示例日志 2 (版本不兼容)**:
    ```log
    - Mod 'Fabric API' (fabric-api) 0.82.1+1.20 requires ... 'Minecraft' ... but only the wrong version is present: 1.20.1!
    ```
**如何解读**: 你安装的 `Fabric API` 版本是给 MC 1.20 用的，与你的游戏版本 `1.20.1` 不匹配。

**通用解决方案**:

1. **补全/更新依赖**: 根据日志提示，下载并安装缺失的 Mod，或将其更新到正确版本。
2. **移除主 Mod**: 如果不想安装依赖，直接删除需要它的 Mod。
3. **使用工具查询**: 访问 [MC百科](https://www.mcmod.cn/)、[Modrinth](https://modrinth.com/mods) 或 [CurseForge](https://www.curseforge.com/minecraft/mc-mods) 查询 Mod 的详细依赖关系。

**Q1.2: 在服务端运行了客户端Mod (如光影、小地图)，导致启动崩溃，怎么办？**

**A:** 这是最常见的问题之一：您在**服务端**上安装了**仅限客户端使用**的 Mod。

**关键日志解读**:

```log
// 主错误：明确指出是某个 Mod 实例创建失败
[net.minecraftforge.fml.javafmlmod.FMLModContainer/LOADING]: Failed to create mod instance. ModID: distanthorizons, class com.seibel.distanthorizons.forge.ForgeMain

// 原因1：尝试加载客户端类，但环境是 DEDICATED_SERVER (专用服务器)
Caused by: java.lang.RuntimeException: Attempted to load class net/minecraft/client/Minecraft for invalid dist DEDICATED_SERVER

// 原因2：找不到客户端独有的类 net/minecraft/client/Minecraft 或 net.coderbot.iris.Iris
java.lang.NoClassDefFoundError: net/minecraft/client/Minecraft
// 或
加载类 net.coderbot.iris.Iris 失败
```

`net/minecraft/client/Minecraft` 是客户端的核心代码，`DEDICATED_SERVER` 明确表示这是服务器环境。日志的含义是：一个 Mod 试图调用客户端才有的功能，但在服务器上找不到，因此崩溃。

**问题根源**: **Oculus**、**Iris**、**OptiFine**、小地图、视觉特效等所有光影渲染和界面增强模组都属于“客户端Mod”，不能安装在服务器上。
**解决方案**: 从**服务端**的 `mods` 文件夹中**移除**日志中明确指出的 Mod 或所有渲染优化模组。

**Q1.3: 启动崩溃，日志提示 `Found duplicate mods` 或 `DuplicateModsFoundException`，怎么办？**

**A:** 您的 `mods` 文件夹里有同一个 Mod 的多个版本。

**关键日志信息**:

```log
Found duplicate mods:
- Mod 'Sodium' is present in two files: 'sodium-1.0.jar' and 'sodium-1.1.jar'
```

**解决方案**: 清理 `mods` 文件夹，确保每个 Mod 只保留一个 `.jar` 文件。

**Q1.4: (Fabric) 启动时提示 `incompatible mod set` 并给出了解决方案，我该怎么做？**

**A:** Fabric 已经检测到根本性冲突的 Mod (例如 OptiFine 和 Sodium)，并给出了明确的解决指令。

**关键日志解读**:

```log
net.fabricmc.loader.impl.FormattedException: Mod resolution encountered an incompatible mod set!
A potential solution has been determined:
     - Replace mod 'Sodium' (sodium) 0.4.10+build.27 with any version that is compatible with:
         - optifabric 1.13.25
```

日志指出 `Sodium` 和 `optifabric` 不兼容，并建议你更换 `Sodium` 版本。但实际上，这两个Mod是无法共存的。
**解决方案**: 严格遵循日志的本质建议——解决冲突。你必须在二者中选择一个：要么**移除 `OptiFabric` (+`OptiFine`)**，要么**移除 `Sodium`**。

### **B. Mod 内部错误与硬冲突**

**Q1.5: 游戏启动崩溃，日志明确指向某个Mod加载或初始化失败，怎么办？**

**A:** 加载器明确指出了某个 Mod 在加载或初始化阶段出错。

**Fabric 日志解读**:

```log
net.fabricmc.loader.impl.FormattedException: java.lang.RuntimeException: Could not execute entrypoint stage 'preLaunch' due to errors, provided by 'sodium'!
```

`provided by 'sodium'`: 错误是由 Mod ID 为 `sodium` 的 Mod 提供的。
`entrypoint stage 'preLaunch'`: 错误发生在 `sodium` 的 `preLaunch` 初始化阶段。

**Forge 日志解读**:

```log
Failure message: Flywheel (flywheel) has failed to load correctly
    java.lang.reflect.InvocationTargetException: null
```

日志直接点名了是 `Flywheel` 这个 Mod 加载失败。

**问题根源**: 通常是 Mod 自身的 Bug，或环境不兼容。
**解决方案**: 根据日志的直接提示，**移除**或**更新**有问题的 Mod。

**Q1.6: 启动时崩溃，日志里有 `MixinTransformerError` 或 `InjectionError`，如何解决？**

**A:** 这是两个或以上 Mod 之间的**硬冲突**，它们试图修改游戏代码的同一个地方且互不兼容。这是最难解决的冲突之一。

**关键日志信息**:

```log
org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected error occurred during transformation.
Caused by: org.spongepowered.asm.mixin.injection.throwables.InjectionError: Critical injection failure
```

**基础解决方案 (二分法排查)**:

1. 将 `mods` 文件夹里的一半 Mod 移到别处。
2. 启动游戏，看是否还崩溃。以此类推，不断缩小范围，直到定位到具体是哪几个 Mod 放在一起就会崩溃。
3. 最终，您必须在这些冲突的 Mod 中做出取舍，**移除其中一个**。

**进阶诊断**:
**冲突案例**: `itemphysic` (物品物理) 使用了 `Overwrite` 方式重写了实体受伤方法，导致 `l2complements` (莱特兰-符文) 的注入点失效。
**诊断方法**: 在启动器的“Java 虚拟机参数”中添加 `-Dmixin.dumpTargetOnFailure=true`。崩溃后，游戏目录会生成 `.mixin.out` 文件夹，通过分析其中的文件可定位冲突方。

**Q1.7: 日志中出现 `Feature Order Cycle`，导致世界无法生成，怎么办？**

**A:** 这是两个或以上的 Mod 在同一个生物群系中注册地物生成时，产生了无法解决的循环依赖。

**问题根源**: 游戏无法确定地物的生成顺序（例如，Mod A 的树要生成在 Mod B 的草地上，Mod B 的草地又要生成在 Mod A 的树下），从而导致拓扑排序失败。
**解决方案**: 安装 **Cyanide** Mod。这款 Mod 可以在崩溃时提供更详细的日志，明确指出是哪几个 Mod 的哪几个地物（Feature）发生了冲突，帮助你定位并移除其中一个冲突 Mod。

### **C. 环境、文件与配置问题**

**Q1.8: Java 版本不匹配导致启动崩溃，怎么办？**

**A:** 您使用的 Java 版本与游戏、Mod 或 Mod 加载器不兼容。

**常见日志及解读**:
`UnsupportedClassVersionError: ... class file version 61.0 ... this version of the Java Runtime only recognizes ... up to 52.0`
    **解读**: **Java 版本过低**。游戏需要 Java 17 (版本号 61)，而你用的是 Java 8 (版本号 52)。
`no such method: sun.misc.Unsafe.defineAnonymousClass`
    **解读**: **Java 版本过高**。通常发生在旧版 Forge 上使用了 Java 11+。
`java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 at net.minecraft.launchwrapper.Launch.main`
    **解读**: **旧版 Forge (≤1.7.2) 与 Java 8 的已知冲突**。
`Method 'xxx' must be interfaceMethodref/Methodref`
    **解读**: **Mod API 版本与 Java 版本共同导致的不兼容**。一个 Mod 依赖的库发生了重大变更，在高版本 Java 上会严格检查并报错。

**解决方案**:

1. **强烈建议**: **开启启动器的 Java 自动选择/安装功能**。让启动器管理 Java 是最安全省心的选择。
2. **手动选择**: 根据下表，为您的游戏版本选择正确的 Java。
3. **针对旧版 Forge**: 安装 **Legacy Java Fixer** Mod，使其能在 Java 8 下运行。
4. **针对 Mod API 冲突**: 优先统一 Mod 及其依赖的版本，或尝试降级 Java。

**Q1.9: 文件损坏或格式错误导致启动崩溃，如何处理？**

**A:** Mod 文件、游戏核心文件损坏，或文件格式不正确。

**常见问题与解决方案**:
**Mod 文件下载不完整**:
    **日志**: `ZipException: zip END header not found`
    **解决**: 日志通常会指出损坏的 `.jar` 文件。删除它并从官方渠道重新下载。
**游戏核心文件损坏**:
    **日志**: `signer information does not match`
    **解决**: 使用启动器的**文件补全/修复/检查游戏完整性**功能。
**Mod 被解压成文件夹**:
    **日志**: `The directories below appear to be extracted jar files.`
    **解决**: 删除 `mods` 文件夹中所有被解压的 Mod **文件夹**，放入未经解压的原始 `.jar` 文件。
**Mod 文件名含特殊字符**:
    **日志**: `Invalid module name: '' is not a Java identifier`
    **解决**: 重命名 Mod 文件，只保留英文字母和数字。

**Q1.10: 游戏路径或系统区域设置问题导致崩溃，怎么解决？**

**A:** 游戏路径包含非英文字符，或者 Windows 系统开启了不兼容的 UTF-8 功能。

**解决方案 (必须执行)**:

1. **使用纯英文路径**: 将整个游戏（包括启动器和 `.minecraft` 文件夹）移动到不含中文、空格或特殊字符的路径下（例如：`D:\Games\MyMC`）。
2. **关闭 Windows 的 UTF-8 Beta 功能**:
    **问题**: 此功能与 Fabric 加载器不兼容，导致日志提示 `ClassNotFoundException: net.fabricmc.loader.impl.launch.knot.KnotClient`。
    **解决**: 前往“控制面板” > “区域” > “管理” > “更改系统区域设置”，**取消勾选**“Beta 版: 使用 Unicode UTF-8...”，然后**重启电脑**。

**Q1.11: Mod 配置文件损坏导致崩溃，日志含 `ParsingException`，如何处理？**

**A:** 这是 Mod 的配置文件在读取时发生错误，常见于 Night Config 库。

**关键日志信息**:

```log
com.electronwill.nightconfig.core.io.ParsingException: Not enough data available
```

**解决方案**:

1. **修复已知 Bug**: 如果是 Night Config 的问题，下载并安装 **Night Config Fixes** Mod 即可解决。
2. **删除损坏配置**: 进入 `config` 文件夹，找到日志中提到的或最近修改过的 `.toml` / `.json` / `.cfg` 配置文件，直接**删除**它。Mod 会在下次启动时重新生成默认配置。

### **D. 特定 Mod 或加载器的已知问题**

**Q1.12: (OptiFine) 游戏崩溃，日志里有大量 `NoSuchMethodError`，是什么原因？**

**A:** OptiFine 版本与 Forge 版本或与其他 Mod 不兼容。

**关键日志示例**:

```log
java.lang.NoSuchMethodError: net.minecraft.world.server.ChunkManager$ProxyTicketManager.shouldForceTicks(J)Z
java.lang.NoSuchMethodError: 'void net.minecraftforge.client.gui.overlay.ForgeGui.renderSelectedItemName(...)'
```

**问题根源**: OptiFine 对游戏源码的修改非常深入且非标准，因此必须与**特定版本**的 Forge 才能协同工作。
**解决方案**:

1. **首选方案（最可靠）**: 前往 [OptiFine 官网](https://optifine.net/downloads)，点击 `Show all versions`。找到你下载的 OptiFine 文件，它下方会明确标注**需要哪个特定版本的 Forge**。请确保你的 Forge 版本与官网要求**完全一致**。
2. **次选方案**: 更换 OptiFine 的版本，试试更新的预览版或更旧的稳定版。

**Q1.13: 使用“维克的现代战争”时崩溃，日志有 `java.lang.IllegalStateException: Not Building!`，怎么修复？**

**A:** 这是该 Mod 与 Forge 渲染管线冲突导致的。

**解决方案**:

1. 打开**配置文件夹** (通常是 `.minecraft/config` 或 `.minecraft/versions/[版本名]/config`)。
2. 找到 `forge-client.toml` 文件，用记事本等工具打开。
3. 找到 `allowEmissiveItems` 这一项，将其值从 `true` 修改为 `false`。
4. 保存文件并重启游戏。

**Q1.14: 安装了大量 Mod 后游戏崩溃，日志包含 `maximum id range exceeded`，是什么原因？**

**A:** Mod 注册的物品、方块等内容太多，超出了旧版 Minecraft 的 ID 数量上限。

**解决方案**:

1. 安装 **JEID (Just Enough IDs)** 或类似功能的 Mod 来扩展 ID 限制。
2. 精简您的 Mod 列表，删除一些不需要的大型 Mod。

**Q1.15: (LiteLoader) 同时安装 LiteLoader 和新版 Forge 后崩溃，怎么办？**

**A:** LiteLoader 和新版 Forge 存在根本性的加载机制冲突。

**关键日志信息**: `ModLauncher is not available`
**解决方案**: 二者不可兼得，请**卸载 LiteLoader**。

## 二、游戏中崩溃或异常 (In-game Crashes & Issues)

### **A. 存档与世界加载问题**

**Q2.1: 加载存档或进入特定区域时崩溃，日志包含 `Ticking Entity` 或 `Ticking Block Entity`，如何修复？**

**A:** 存档中某个实体（生物、掉落物等）或方块实体（箱子、熔炉等）的数据已损坏或存在 Bug。

**关键日志解读**:

```log
- Minecraft Crash Report -
Description: Ticking entity // 错误类型：更新实体时出错
java.lang.NullPointerException: Ticking entity
    at some.mod.package.SomeEntity.tick(SomeEntity.java:123) // 指明是哪个Mod的实体代码出错
// 报告下方会提供出错实体的ID和精确坐标
Entity's Exact location: -123.50, 64.00, 456.50
```

**解决方案**:
**方案一 (自动修复)**: 安装 **Neruina** (Forge/NeoForge) 或 **ManyIdeas** (Fabric)。它们能自动跳过出错的实体，防止崩溃。
**方案二 (Forge/NeoForge 手动配置)**: 打开 `saves/你的存档名/serverconfig/forge-server.toml` 文件，将 `removeErroringEntities` 和 `removeErroringTileEntities` 都改为 `true`。**成功进入游戏一次后，必须立即改回 `false`**。
**方案三 (高级)**: 使用 **NBTExplorer** 等存档编辑器，根据报告中的**精确坐标**，手动删除那个出错的实体。

**Q2.2: 加载存档时崩溃，提示 `Exception reading \level.dat`，如何修复？**

**A:** 存档的核心文件 `level.dat` 已损坏。

**关键日志信息**:

```log
Exception reading *\level.dat
Caused by: java.util.zip.ZipException: invalid distance too far back
```

**解决方案**:

1. **先备份完整的存档文件夹！**
2. 进入存档文件夹 (`.minecraft/saves/你的存档名/`)。
3. 删除已损坏的 `level.dat` 文件。
4. 找到 `level.dat_old` 文件（这是游戏的自动备份）。
5. 将 `level.dat_old` 重命名为 `level.dat`。
6. 重新加载存档。

### **B. 运行时错误与性能问题**

**Q2.3: 游戏无响应或卡死 (Freeze/Hang)，如何诊断？**

**A:** 游戏卡死但没有崩溃报告，通常是主线程被阻塞。需要通过**事件查看器**和**线程转储 (Thread Dump)**来分析。

**诊断流程**:

1. **检查事件查看器 (Windows)**: 打开“事件查看器” -> “Windows 日志” -> “应用程序”，查找与 `javaw.exe` 相关的“错误”或“应用程序挂起(Application Hang)”事件。
2. **获取线程转储**: 在游戏卡死时，使用启动器（如 HMCL）的“导出运行栈”功能，得到一个 `thread-dump.txt` 文件。
3. **分析线程转储**: 打开该文件，找到名为 `Render Thread` (客户端主线程) 或 `Server Thread` (服务端主线程) 的线程。通过分析调用栈，可以找到是哪个 Mod 的操作导致了线程阻塞。

**常见卡死原因及解决方案**:
**Mod 访问网络**: 使用代理/加速器，或禁用/更新该 Mod。
**Mod 读写大文件**: 耐心等待，或禁用/更新该 Mod。
**游戏处理大量实体**: 使用指令 `/kill @e[type=item]` 清理掉落物。
**显存/内存不足**: 降低游戏设置，更新显卡驱动。

**Q2.4: 游戏随机闪退，并生成了 `hs_err_pid<数字>.log` 文件，里面有 `EXCEPTION_ACCESS_VIOLATION`，这是什么问题？**

**A:** 这不是 Mod 或游戏的问题，而是**显卡驱动程序崩溃**。

**关键日志解读**: 在 `hs_err_pid` 文件顶部可以看到：

```log
# A fatal error has been detected by the Java Runtime Environment:
# EXCEPTION_ACCESS_VIOLATION (0xc0000005) ...
# Problematic frame:
# C  [nvoglv64.dll+0x...]  // 这个 .dll 文件名暴露了问题来源
```

`nvoglv64.dll`: NVIDIA 显卡驱动
`ig4icd64.dll`: Intel 核芯显卡驱动
`atio6axx.dll`: AMD 显卡驱动

**解决方案**:

1. **更新显卡驱动 (必须)**: **必须**前往显卡制造商的**官方网站**（NVIDIA/AMD/Intel）下载并安装**最新**驱动。
2. **指定独立显卡 (笔记本用户)**: 在系统设置中，确保游戏 (`javaw.exe`) 使用高性能独立显卡运行。

**Q2.5: 游戏中执行特定操作时崩溃，日志里有 `java.lang.NullPointerException` (空指针异常)，怎么办？**

**A:** 这是典型的 **Mod Bug**。

**关键日志解读**:

```log
// 错误类型：空指针异常
java.lang.NullPointerException: Cannot invoke "some.object.method()" because "this.object" is null
// 堆栈追踪，从上往下找第一个非官方（非 net.minecraft, java, com.mojang）的包名
at some.mod.package.SomeClass.someMethod(SomeClass.java:45)
```

日志的 `at ...` 部分被称为**堆栈追踪 (Stack Trace)**。从上往下看，第一个不属于官方代码的条目（如本例中的 `some.mod.package`）通常就是引发问题的 Mod。
**解决方案**:

1. **定位 Mod**: 通过堆栈追踪找到问题 Mod。
2. **更新 Mod**: 检查并更新该 Mod 到最新版本。
3. **反馈 Bug**: 如果问题依旧，将**完整**的 `.txt` 崩溃报告提交给 Mod 作者。
4. **临时措施**: 暂时**禁用**或**移除**该 Mod。

**Q2.6: 游戏无法启动或崩溃，提示 `OutOfMemoryError` 或“页面文件太小”，怎么办？**

**A:** 内存分配不当或系统虚拟内存不足。

**关键日志/现象**:

```log
java.lang.OutOfMemoryError
Could not reserve enough space for ... object heap
Windows 弹窗：“页面文件太小，无法完成操作。”
```

**解决方案**:

1. **合理分配内存**: 在启动器中适当**降低**分配给游戏的内存，或尝试开启“自动分配内存”。
2. **关闭后台程序**: 关闭浏览器等内存大户。
3. **配置页面文件 (Windows)**: 在系统设置中，将虚拟内存（页面文件）设为“自动管理”，然后**重启电脑**。

**Q2.7: 日志提示 `OpenGL Error`、`Pixel format not accelerated`，或聊天栏不断刷出 OpenGL 错误码，如何处理？**

**A:** 显卡驱动或 OpenGL 支持问题。

**解决方案**:

1. **更新显卡驱动 (最重要)**: 前往显卡官网下载并安装**最新**驱动。
2. **切换独立显卡 (笔记本)**。
3. **处理聊天栏 OpenGL 错误**: 这些错误通常与 OptiFine/Iris、光影包或Mod冲突有关。首要步骤永远是**更新显卡驱动**，其次是尝试更换光影包、更新或排查相关Mod。

**Q2.8: (LiteLoader) Mod 没效果，但游戏不崩溃，怎么回事？**

**A:** LiteLoader 在 Mod 缺少前置时通常不会崩溃，而是静默失败。

**解决方案**:

1. 进入游戏后，点击屏幕右上角的“鸡饲料”浮窗，打开 LiteLoader 管理界面。
2. 找到状态为**红色**并提示 `缺少前置库` 的 Mod。
3. 查看其所需的前置，退出游戏后下载安装，或直接删除此 Mod。

## 三、疑难杂症与系统故障

**Q3.1: 游戏崩溃并生成 `hs_err_pid.log` 文件，报错线程是 `C2 CompilerThread`，怎么办？**

**A:** 这是 Java 的即时编译器 (JIT) 中的 C2 编译器不稳定导致的。

**关键日志信息**: `hs_err_pid.log` 文件中，报错线程为 `C2 CompilerThread`。
**解决方案**: 在启动器的“Java 虚拟机参数”中添加 `-XX:TieredStopAtLevel=3` 来禁用 C2 编译器。

**Q3.2: 日志包含 `failed to create a child event loop`，这是什么疑难杂症？**

**A:** 这是一个复杂的网络初始化问题，通常由防火墙、杀毒软件或网络代理引起。

**解决方案 (请严格按顺序逐一尝试)**:

1. **关闭所有网络代理**、VPN、游戏加速器。
2. **暂时禁用或卸载第三方杀毒软件**。
3. **暂时关闭 Windows Defender 防火墙**。
4. **重置网络堆栈 (Windows)**: 以管理员身份运行 CMD，依次执行 `netsh winsock reset` 等一系列命令，然后**重启电脑**。
5. **更换 Java 版本**。
6. **更新显卡驱动**。

**Q3.3: 日志提示 `Open J9 is not supported` 或在64位系统上分配稍大内存就提示 `Could not reserve enough space`，是什么问题？**

**A:** 使用了不兼容或错误的 Java 版本/类型。

**关键日志解读**:
`Open J9 is not supported`: 您使用了 OpenJ9 这种非标准的 Java 实现，很多 Mod 与之不兼容。
`Could not reserve enough space for 2048MB object heap`: 在 64 位系统上，这通常意味着您错误地安装并使用了 32 位的 Java，它无法分配超过约 1.5GB 的内存。
**解决方案**:

1. **更换为 HotSpot JVM**: 卸载 OpenJ9，使用启动器自动下载或从 Adoptium 等来源安装标准的 **HotSpot** 版本的 Java。
2. **使用 64 位 Java**: 确保在 64 位操作系统上安装并使用 64 位的 Java。

**Q3.4: 我是 macOS 用户，遇到各种奇怪的崩溃，怎么办？**

**A:** macOS 的兼容性问题确实较多。

**解决方案**:

1. 确保 macOS 系统为最新版本。
2. 优先尝试移除 OptiFine、Iris、Oculus 等渲染相关的 Mod，它们是常见冲突源。
3. 如果问题依旧且难以解决，最终极的方案是更换到 Windows 设备进行游戏。

**Q3.5: 日志包含 `Found multiple arguments for option fml.forgeVersion`，如何处理？**

**A:** 启动器生成的实例配置文件中，Forge 版本参数被重复定义。

**解决方案**: 使用启动器的**修复/重置核心**功能。如果无效，直接删除该游戏版本实例后重新安装。

## 四、多人游戏与服务器

### **A. 玩家连接问题 (For Players)**

**Q4.1: 连接服务器时提示 `Fatally missing registry entries`，是什么意思？**

**A:** 您的客户端与服务器的 **Mod 列表、版本或配置文件不一致**。

**解决方案**: 确保您的 Mod、Mod版本、配置文件与服务器**完全一致**。最简单的方法是直接向服主索要整合包。

**Q4.2: 连接服务器时提示 `Invalid session`，怎么办？**

**A:** 您的登录凭据未通过正版验证。

**解决方案**:
**正版玩家**: 重启游戏和启动器。
**离线模式玩家**: 您正在连接一个正版验证服务器 (`online-mode=true`)。请联系服主将其关闭。

**Q4.3: 连接服务器时提示 `Connection timed out` 或 `Connection refused`，是什么问题？**

**A:** 这是纯粹的网络问题。

**解决方案**:

1. 检查自己的网络连接。
2. 核对服务器地址和端口是否正确。
3. 联系服主确认服务器是否开启。
4. 检查您或服务器的防火墙设置。

**Q4.4: 登录服务器或单人游戏时提示 `Invalid characters in username` 或 `Connection closed`，如何解决？**

**A:** 您的游戏昵称包含了非法字符。

**解决方案**: 在启动器中修改昵称，确保只包含**英文字母、数字和下划线 (`_`)**。

### **B. 服务器端通用问题 (For Server Owners)**

**Q4.5: 我是服主，服务器启动失败，日志提示 `You need to agree to the EULA`，怎么办？**

**A:** 您需要同意 Minecraft 的最终用户许可协议 (EULA)。

**解决方案**: 打开服务器根目录下的 `eula.txt` 文件，将 `eula=false` 修改为 `eula=true`，保存后重启服务器。

**Q4.6: 服务器启动失败，日志提示 `Perhaps a server is already running on that port?`**

**A:** 您试图使用的服务器端口已被其他程序占用。

**解决方案**: 打开服务器根目录下的 `server.properties` 文件，找到 `server-port` 选项，将其值修改为一个未被占用的端口（例如 `25566`）。端口值必须在 `1024` 与 `65535` 之间。

**Q4.7: 服务器运行中突然崩溃，日志里有 `java.lang.Error: Watchdog`，是什么意思？**

**A:** 这是服务器的“看门狗”机制触发了崩溃，意味着服务器的某个 tick（游戏刻）执行时间过长，被判定为卡死。

**解决方案**: 打开 `server.properties` 文件，找到 `max-tick-time` 选项，将其值调高（例如 `120000`），或者直接设为 `-1` 以禁用此检查（不推荐，可能导致服务器真卡死时无响应）。

**Q4.8: 服务器启动或运行时提示 `Permission denied`，无法写入文件，是什么问题？**

**A:** 运行服务器的操作系统用户没有对服务器文件夹的写入权限。

**解决方案**:
**Linux/macOS**: 使用 `chown` 和 `chmod` 命令为服务器文件夹分配合适的权限。避免直接使用 `root` 用户或 `sudo` 运行服务器。
**Windows**: 右键服务器文件夹 -> 属性 -> 安全，为当前用户添加“完全控制”权限。或者以管理员身份运行启动脚本。
**面板服用户**: 这是服务商的配置问题，请直接联系您的服务器提供商解决。

**Q4.9: 我使用 Paper 服务端，但用新版服务端加载旧版存档时启动失败，怎么办？**

**A:** Paper 服务端在加载存档时会检查数据版本，不允许用高版本服务端直接加载过低版本的存档。

**关键日志信息**:

```log
java.lang.RuntimeException: Server attempted to load chunk saved with newer version of minecraft! 3337 > 3218
```

*(注：此日志信息有时会误报，实际意思是存档版本 `3218` (1.19.3) 低于服务端版本 `3337` (1.19.4))*
**解决方案**: 您必须先用与存档版本匹配的服务端（此例中为 1.19.3）启动一次游戏，让存档数据成功升级，然后再用新版服务端加载。

### **C. 插件与跨服代理问题 (Plugins & Proxies)**

**Q4.10: (Bukkit/Spigot/Paper) 服务器日志出现 `java.net.ConnectException`，是什么问题？**

**A:** 这通常是某个插件在尝试自动更新时，因网络问题无法连接到更新服务器导致的。

**解决方案**:

1. **手动更新**: 根据日志上下文找到是哪个插件在尝试更新，去官网手动下载最新版并替换。
2. **关闭自动更新**: 在该插件的配置文件（通常在 `plugins/插件名/config.yml`）中找到 `auto-update` 或类似选项，将其关闭。

**Q4.11: (BungeeCord/Velocity) 连接服务器时后台提示 `Connection refused`，怎么回事？**

**A:** 这意味着您的跨服代理无法连接到其配置中的后端子服务器。

**解决方案**:

1. 检查您要连接的那个子服务器是否已经成功开启。
2. 检查跨服代理的配置文件（如 `config.yml`）中，该子服务器的 IP 地址和端口是否填写正确。

**Q4.12: (BungeeCord/Velocity) 后台提示 `Backend server is online-mode!`，是什么问题？**

**A:** 您的跨服代理配置为离线模式（负责正版验证），但它尝试连接的后端子服务器（Paper/Spigot等）自己也开启了正版验证，导致冲突。

**解决方案**: 必须关闭所有后端子服务器的正版验证。进入每个子服务器的目录，打开 `server.properties` 文件，将 `online-mode` 的值修改为 `false`。正版验证应统一由跨服代理端负责。

**Q4.13: 我是服主，服务器启动失败，日志提示 `You need to agree to the EULA`，怎么办？**

**A:** 您需要同意 Minecraft 的最终用户许可协议 (EULA)。

**解决方案**: 打开服务器根目录下的 `eula.txt` 文件，将 `eula=false` 修改为 `eula=true`，保存后重启服务器。

**Q4.14: 服务器启动失败，日志提示 `Perhaps a server is already running on that port?`**

**A:** 您试图使用的服务器端口已被其他程序占用。

**解决方案**: 打开服务器根目录下的 `server.properties` 文件，找到 `server-port` 选项，将其值修改为一个未被占用的端口（例如 `25566`）。端口值必须在 `1024` 与 `65535` 之间。

**Q4.15: 服务器运行中突然崩溃，日志里有 `java.lang.Error: Watchdog`，是什么意思？**

**A:** 这是服务器的“看门狗”机制触发了崩溃，意味着服务器的某个 tick（游戏刻）执行时间过长，被判定为卡死。

**解决方案**: 打开 `server.properties` 文件，找到 `max-tick-time` 选项，将其值调高（例如 `120000`），或者直接设为 `-1` 以禁用此检查（不推荐，可能导致服务器真卡死时无响应）。

**Q4.16: (Bukkit/Spigot/Paper) 服务器启动时日志出现 `java.net.ConnectException`，但看起来和网络连接有关，是什么问题？**

**A:** 这通常是某个插件在尝试自动更新时，因网络问题无法连接到更新服务器导致的。

**解决方案**:

1. **手动更新**: 根据日志上下文找到是哪个插件在尝试更新，去官网手动下载最新版并替换。
2. **关闭自动更新**: 在该插件的配置文件（通常在 `plugins/插件名/config.yml`）中找到 `auto-update` 或类似选项，将其关闭。

**Q4.17: (BungeeCord/Velocity) 连接服务器时后台提示 `Connection refused`，怎么回事？**

**A:** 这意味着您的跨服代理无法连接到其配置中的后端子服务器。

**解决方案**:

1. 检查您要连接的那个子服务器是否已经成功开启。
2. 检查跨服代理的配置文件（如 `config.yml`）中，该子服务器的 IP 地址和端口是否填写正确。
