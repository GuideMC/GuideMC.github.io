# 利用软链接共享资源

在开启了版本隔离后，启动器会为每个 Minecraft 版本创建独立的文件夹。这意味着不同版本的资源包、光影、存档、截图等都是相互隔离的。如果你希望在多个版本间共用同一份资源（例如，所有版本都使用同一个光影包目录），可以使用**软链接（Symbolic Link）**技术来解决这个问题。

## 核心原理

软链接，可以简单理解为一个“超级快捷方式”。它会创建一个虚拟的文件夹，该文件夹的内容完全指向另一个真实的文件夹。对于 Minecraft 或任何其他程序来说，这个虚拟文件夹看起来和真实的文件夹一模一样。  
通过这个方法，我们可以指定一个“主版本”的目录作为数据源（例如 `1.20.1` 的存档目录），然后让其他版本的目录（例如 `1.19.4` 的存档目录）通过软链接指向它。这样，无论你从哪个版本访问，实际上操作的都是同一份文件。

::: danger 请先备份！
在进行任何文件操作前，强烈建议**备份你的 `.minecraft` 文件夹**或至少是你想要操作的文件夹（如 `saves`）。虽然操作本身不复杂，但误操作可能会导致数据丢失。
:::

## 前期准备

你需要规划好哪个是你的“数据源”文件夹，哪个是需要创建链接的“目标”位置。

- **源 (Source)**：存放真实文件的文件夹。我们建议选择一个你最常用的、或者最新的版本作为源。
- **目标 (Link/Target)**：将被删除并替换为链接的空位置。

**例如**：  
我们希望将 `1.19.4` 版本的存档共享到 `1.20.1` 版本，并以 `1.20.1` 的存档文件夹作为统一的“数据源”。  
首先，将 **目标位置** (`.../1.19.4/saves`) 中的所有文件**移动**到 **源文件夹** (`.../1.20.1/saves`) 中，进行合并。  
确认文件都已移动完毕后，**删除**那个现在已经为空的 **目标文件夹** (`.../1.19.4/saves`)。**这一步是必须的，因为创建链接的位置不能有同名文件夹存在。**

## 创建软链接

### Windows 系统

> 本方法适用于 Windows Vista 及之后的所有版本。需要使用管理员权限的命令提示符。

以管理员身份打开命令提示符，然后输入链接命令：`mklink /J "<目标链接路径>" "<源文件夹路径>"`，`/J` 参数表示创建一个“目录链接（Directory Junction）”。
执行后，如果看到“为 ... <<===>> ... 创建的联接”的提示，就代表成功了。  
现在 `1.19.4` 版本下的 `saves` 文件夹图标会多一个快捷方式的箭头，它已经指向了 `1.20.1` 的 `saves` 文件夹。

### macOS / Linux 系统

> 在类 Unix 系统上操作更简单，通常无需管理员权限。

打开终端（Terminal），然后输入链接命令：`ln -s "<源文件夹路径>" "<目标链接路径>"`，`ln -s` 用于创建符号链接（Symbolic Link）。  
**注意**：`ln` 命令的**源和目标顺序与 Windows 的 `mklink` 相反**！  
执行后没有任何输出即代表成功。你可以通过 `ls -l` 命令查看，链接文件会以 `->` 指向源文件。

## 如何撤销软链接

如果你想取消共享，操作非常简单，**且不会影响你的源文件**。

- **Windows**：直接在文件资源管理器中，像删除普通文件夹一样，**删除那个带快捷方式图标的链接文件夹**（在我们的例子中是 `.../1.19.4/saves`）。或者在命令提示符中执行 `rmdir "<链接路径>"`。
- **macOS / Linux**：在终端中执行 `rm "<链接路径>"`。例如：`rm ~/.minecraft/versions/1.19.4/saves`。

删除链接后，源文件夹（`.../1.20.1/saves`）中的所有文件都完好无损。此时你可以在原来的位置为 `1.19.4` 创建一个全新的、独立的 `saves` 文件夹。
