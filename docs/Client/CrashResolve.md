# 常见游戏崩溃问题

::: tip 提示
使用右侧的文章大纲来快速定位您所遇到的问题。
:::

## 如何分析崩溃报告

游戏崩溃的原因多种多样，例如 Mod 不兼容、Fabric API 版本过高或缺少前置 Mod 等。以下是一些排查思路：

1. **启动器诊断**：部分启动器提供错误分析功能，可辅助排查。
2. **二分排查法**：通过逐次增减一半数量的 Mod 来定位问题 Mod。
3. **日志分析**：有经验的用户可直接查阅游戏日志（位于 `\.minecraft\logs`）或崩溃报告（位于 `\.minecraft\crash-reports`）来定位问题。
4. **寻求帮助**：若无法自行解决，请将 `\.minecraft\crash-reports` 和 `\.minecraft\logs` 文件夹打包后，提供给他人寻求帮助。

## 常见单人游戏崩溃问题

本节将介绍单人游戏中常见的崩溃原因及解决方法。

### 路径与环境问题

::: warning 警告：中文路径与 Unicode UTF-8

1. **中文路径**：游戏路径（包括 `.minecraft` 目录）中包含中文字符可能导致游戏崩溃。建议将游戏本体及启动器迁移至纯英文路径下。
   > 为避免影响其他程序，可将启动器、其数据目录及 `.minecraft` 文件夹一并移动到新的纯英文目录下。

2. **Unicode UTF-8 Beta 版**：Windows 系统设置中的“Beta 版: 使用 Unicode UTF-8 提供全球语言支持”选项可能导致部分 Java 程序（包括 Minecraft）出现兼容性问题而崩溃。
   - **检查与关闭**：请前往“控制面板” > “时钟和区域” > “区域”，切换到“管理”选项卡，点击“更改系统区域设置”，取消勾选“Beta 版: 使用 Unicode UTF-8 提供全球语言支持(U)”复选框，然后重启计算机。
   - **疑难解答**：若重启后该选项仍被勾选，可参考 Microsoft Q&A 社区中关于此问题的[解决方案](https://answers.microsoft.com/zh-hant/windows/forum/all/%E5%9C%B0%E5%8D%80%E8%A8%AD%E5%AE%9A/e596c312-1eda-41c2-a85e-f41a1f5ced9e)（查找用户“A Big 蓝鲸”的答复）。

:::

### Java 配置错误

::: warning 警告
在排查问题前，请前往启动器设置中的 Java 相关选项，启用自动选择 Java 版本（若有此选项）。

除非您清楚了解相关操作，否则强烈不建议手动选择 Java 版本。
:::

### 内存分配问题

1. 前往启动器设置，选择 Java 虚拟机与内存相关选项。
2. 找到内存设置选项。
3. 确保启用自动设置内存（若有此选项）。

::: warning 警告
若选择手动分配内存，请确保所分配的内存未超过当前可用的最大内存。
:::

::: tip 提示
Mod 越多、材质包分辨率越高或游戏视距越远，通常需要分配更多内存，但切勿超出可用内存上限。
:::

### Forge 相关问题

由于 `Forge` 的兼容性问题，**请务必确保启动器自动选择 Java 版本（若有此选项）**。若问题依旧，请尝试通过启动器获取或手动安装 Java 8（例如来自 Mojang 官方或 Adoptium/Azul Zulu 等提供商的版本）。您也可以点击[此链接](https://cdn.azul.com/zulu/bin/zulu8.58.0.13-ca-jre8.0.312-win_x64.msi)下载并安装来自 Azul Zulu 的 Java 8u312。

#### Forge 安装错误

安装 `Forge` 时，可能会遇到 `BLF-402` 等错误代码 (部分启动器可能提示此代码)。

此类问题通常伴随核心安装失败，导致安装后的原版核心或导入的整合包**无法在版本列表中找到**。

若核心**安装速度异常快**但版本列表中未显示，请**一并参照以下方法解决**。

### 显卡驱动问题

显卡驱动版本过旧或未正确安装，是导致游戏无法启动或崩溃的常见原因之一。在排查前，您需要了解电脑所用显卡的制造商。

::: tip 提示
笔记本用户通常可跳过此节，因为驱动程序多由笔记本制造商提供和管理。但若遇到问题，更新驱动也是一个排查方向。
:::

1. 按下 `Win` + `R` 组合键，打开“运行”窗口。
2. 在“运行”窗口中输入 `dxdiag`，并点击“确定”。
3. 在弹出的窗口中切换到“显示”选项卡，即可在“制造商”一栏查看显卡制造商信息。

#### 笔记本用户

请前往您的笔记本制造商官方网站，获取对应的驱动程序。

#### Intel 核芯显卡

请下载并运行 [**英特尔™驱动程序和支持助理**](https://dsadata.intel.com/installer) 来更新显卡驱动。

#### AMD 显卡 / 处理器

请访问 [**AMD 驱动程序与支持**](https://www.amd.com/zh-hans/support) 页面，根据您的显卡/处理器型号下载最新的驱动程序。

#### NVIDIA 显卡

请访问 [**NVIDIA 驱动程序**](https://www.nvidia.cn/geforce/drivers) 页面，根据您的显卡型号下载最新的驱动程序。

### 存档损坏与恢复

电脑蓝屏、死机重启等意外情况可能导致游戏存档损坏。若遇存档损坏，可参考本教程进行修复。请注意，此方法会将游戏世界回退至进入前的状态。

#### 操作步骤

1. 通过启动器或手动导航，打开游戏实例对应的 `saves` 文件夹。
2. 进入损坏的存档文件夹，删除 `level.dat` 文件。
3. 找到 `level.dat_old` 文件，右键重命名，移除后缀 `_old`，然后重新进入游戏世界即可。

## 常见多人游戏崩溃问题

### “多人游戏已被禁用，请检查你的 Microsoft 账户设置”

#### 正版账户

**原因**：Microsoft 账户的年龄设置或家庭组策略限制。

**解决方法**：

1. 若您是 Microsoft 家庭组的成员，请联系家庭管理员检查并修改年龄设置。
2. 登录 [Microsoft 账户信息设置](https://account.microsoft.com/profile)，修改个人资料中的年龄，确保大于 18 周岁。
3. 访问 [Xbox 隐私和在线安全](https://www.xbox.com/zh-CN/user/settings/privacy-and-safety)，选择“Xbox 与 Windows 10 设备在线安全”，将“您可以加入多人游戏”选项设置为“允许”。
4. 如有需要，可访问 [Microsoft 家庭设置](https://account.microsoft.com/family/home) 进行相关调整。

#### 离线账户

**原因**：离线账户在某些游戏版本或服务器设置下可能无法使用多人游戏功能。

**解决方法**：请尝试以下方法：

1. 尝试使用正版账户登录。
2. 尝试在启动游戏时断开网络连接。
3. 安装 “离线多人修正 (MultiOfflineFix)” 模组。可从 [MCMOD百科](https://www.mcmod.cn/download/10643.html) 下载。

### “连接超时 (Connection timed out)”

**原因**：连接超时。

**解决方法**：请逐一尝试和排查以下情况：

1. 确认服务器已开启且运行正常。
2. 确认服务器地址拼写正确（建议复制粘贴）。
3. 检查网络连接是否稳定，并尝试使用网络加速器或 VPN 后重新连接。
4. 尝试修改 DNS 服务器地址并刷新 DNS 缓存后重新连接。
5. 尝试暂时关闭防火墙（如 Windows Defender 防火墙）后重新连接。

### “连接超时：无更多信息 (Connection timed out: no further information)”

**原因**：连接超时，具体原因未知。

**解决方法**：同上“连接超时 (Connection timed out)”的解决方法。

### “未知的主机 (Unknown host)” 或 “无法分配请求的地址：无更多信息 (Cannot assign requested address: no further information)”

**原因**：无法访问目标服务器地址。

**解决方法**：

1. 确认服务器地址拼写正确（建议复制粘贴）。
2. 确认服务器已开启且运行正常。

### “无法解析主机名 (Can't resolve hostname)”

**原因**：解析服务器地址失败。

**解决方法**：确认服务器地址拼写正确（建议复制粘贴）。

### “您的主机中的软件中止了一个已建立的连接”

**原因**：网络状况不佳或连接不稳定。

**解决方法**：

1. 确认网络连接正常且稳定。
2. 尝试使用网络加速器或 VPN 后重新连接。

### “登入失败 (Failed to login)” 或 “无效登录 (Bad login)”

**原因**：离线账户尝试登录需要正版验证的服务器。

**解决方法**：请使用正版账户登录后重试。

### “用户名中包含无效字符 (Invalid characters in username)”

**原因**：游戏用户名包含中文字符或特殊符号。

**解决方法**：修改游戏用户名，确保仅包含英文字母、数字及下划线。

### “服务器版本过旧 (Outdated server)” 或 “客户端版本过旧 (Outdated client)”

**原因**：您的 Minecraft 客户端版本与服务器版本不兼容。

**解决方法**：请将 Minecraft 客户端切换至与服务器兼容的版本后重试。

### “服务器内部错误 (Internal server error)”

**原因**：服务器端发生未知错误。

**解决方法**：

1. 尝试重新连接。
2. 若问题频繁出现，请联系服务器管理员解决。

### “数据流末端 (End of Stream)”

**原因**：客户端 Mod 冲突或过于频繁地加入服务器。

**解决方法**：

1. 尝试重新连接。
2. 逐个禁用 Mod进行排查，定位问题 Mod。

### “Internal Exception: io.netty.handler.timeout.ReadTimeoutException”

**原因**：客户端无法在规定时间内读取到服务器传输的数据包（可能由于数据包过大或服务器响应缓慢）。

**解决方法**：请联系服务器管理员。通常重启服务器可以解决此问题。

### “java.lang.IllegalArgumentException: Packet too big”

**原因**：客户端接收到的数据包过大，无法处理。可能由于服务器上的某些特殊结构（如禁人塔、禁人书等）导致大量数据发送。

**解决方法**：

1. 尝试使用离线模式登录并更换游戏 ID。
2. 若更换 ID 后问题消失，则表明可能受到了禁人塔或禁人书等机制的影响。此类问题目前可能没有完美的客户端解决方案。

### “Internal Exception: io.netty.handler.codec.DecoderException: java.lang.IndexOutOfBoundsException”

**原因**：Mod 兼容性问题或 Mod 自身错误导致的数据包解码失败。

**解决方法**：逐个禁用 Mod 进行排查，定位并移除或更新问题 Mod。
