# 关闭正版验证

如果你想让使用离线启动器（即非正版账号）的朋友加入你的多人游戏，那么创建者**必须**关闭正版验证。本教程将详细说明如何在不同情况下完成此操作。  
以下所有操作都由**提供游戏世界的一方**（即“服主”或“房主”）来执行，想要加入游戏的玩家**不需要**进行任何设置。

## 什么是正版验证（Online-Mode）

`online-mode` 是 Minecraft 服务器的一个核心设置。  
当玩家尝试连接时，服务器会与 Mojang/Microsoft 的官方服务器通信，验证该玩家是否拥有一个正版的付费账号。  
如果验证失败，玩家将被拒绝进入，并提示“**无效会话 (Invalid session)**”。

## 服务器关闭正版验证

如果你是使用 `server.jar` 文件自己搭建的服务器，你需要修改服务器的配置文件。

1. **找到服务器文件夹：** 进入你存放服务器所有文件的那个文件夹。
2. **定位配置文件：** 在文件夹里找到一个名为 `server.properties` 的文件。这是一个文本文件，记录了服务器的所有设置。
3. **编辑文件：** 用文本编辑器打开 `server.properties` 文件，将 `online-mode` 从 `true` 改为 `false`。
4. **保存并重启：** **保存**你对 `server.properties` 文件所做的修改，之后**重启**你的 Minecraft 服务器。

## “对局域网开放”关闭正版验证

当你通过“对局域网开放”功能分享你的单人游戏时，Minecraft 默认会开启“在线模式”（online-mode）。  
这意味着只有拥有正版 Minecraft 账号的玩家才能加入你的游戏。如果你的一些朋友没有购买正版账号，他们将无法连接。  
通过 Mod 关闭正版验证，就可以让非正版玩家也加入你的局域网世界，一起享受游戏的乐趣。

无论是使用哪款 Mod，基本流程都非常相似：

1. **安装Mod**：根据你的游戏版本（如1.19.x、1.21.x）和 Mod 加载器（如Forge、Fabric），下载并安装相应的联机 Mod。
   > 只需在**主机（开房主）**的客户端 `mods` 文件夹中放入 Mod 文件即可。
2. **进入游戏设置**：启动游戏，进入你的单人世界。按下 `Esc` 键，点击“对局域网开放”按钮。
3. **关闭正版验证**：Mod 会提供一个新的设置界面。在此界面中，找到并点击**关闭“在线模式” (Online-Mode) 或“正版验证”** 的按钮或开关。
4. **配置并开始**：你还可以根据需要调整选项。设置完成后，点击“创建一个局域网世界”，然后将你的局域网IP地址和端口号分享给朋友即可加入。

### 功能对比

| 功能/Mod名称 | **[LSP](https://www.mcmod.cn/class/2754.html) 自定义局域网联机** | **[mcwifipnp](https://www.mcmod.cn/class/4498.html) 更高级联机设置** | [**简单联机**](https://www.mcmod.cn/class/1158.html) |
| :--- | :--- | :--- | :--- |
| **适用版本** | Forge/Fabric/NeoForge, 1.12.2 - 1.21.x | Forge/Fabric/Quilt/NeoForge, 1.15.2 - 1.21.x | Forge, 1.7.10 - 1.12.2 |
| **核心功能** | 提供专用按钮，一键关闭正版验证。 | 提供开关选项以关闭正版验证。 | 通过修改配置文件 `server.properties` 实现。 |
| **UUID修复** | **支持**（1.8 版本后），可防止正版玩家因 UUID 改变而丢失物品。 | 未明确提及 UUID 修复，但功能全面。 | **不支持**，关闭验证极有可能导致物品丢失。 |
| **特色功能** | 专注局域网联机，设置直观。 | **UPnP端口映射**（可让互联网朋友通过公网 IP 直连）、自定义 MOTD、IP 地址获取、OP 及白名单管理。 | 功能单一，已停止更新。 |
| **安装要求** | 仅主机安装。 | 仅主机安装，但 Fabric/Quilt 版需额外安装对应的 API 前置 Mod。 | 仅主机安装。 |
| **推荐度** | **强烈推荐**，尤其适合新版游戏。 | **强烈推荐**，特别是希望与远处朋友联机且不想折腾内网穿透的用户。 | **不推荐**，仅适用于 1.12.2 及以下旧版本，且风险高。 |

### 注意事项

**UUID 与物品丢失**：关闭正版验证的核心风险在于它可能改变玩家的 UUID（通用唯一识别码），这会导致玩家的背包、末影箱物品及部分进度丢失。因此，强烈推荐使用像 **[LSP]** 这样带有**UUID修复功能**的现代 Mod，它可以保护加入游戏的正版玩家数据不受影响。对于使用旧版 Mod 的情况，**务必提前备份存档**。
**UPnP 功能**：**[mcwifipnp]** 提供的 UPnP 端口映射是一个非常便捷的公网联机方案，但成功率依赖于你的路由器支持并开启了该功能。在国内复杂的网络环境下，它不保证 100% 成功。
**版本选择**：对于 1.13 及以上版本的《我的世界》，请优先选择 **[LSP]** 或 **[mcwifipnp]** 这类仍在积极更新和维护的 Mod。

## 禁用聊天举报

自 Minecraft 1.19 版本起，Java版引入了聊天消息签名系统，允许玩家举报他人聊天内容。  
这会导致在游戏中离线玩家会因为未开启聊天消息签名而被踢出服务器。  
**[NCR](https://www.mcmod.cn/class/6756.html) 禁用聊天举报 (No Chat Reports)** 旨在通过阻止消息被追踪和举报，来保护玩家的隐私。

- **禁用聊天举报**：通过移除附加在聊天消息上的加密签名，使得聊天内容无法被有效举报。
- **保护隐私**：让微软无法追踪你的聊天信息，也无法将其与你的账户关联。
- **禁用遥测**：安装在客户端时，会一并禁用游戏的数据遥测功能。
- **高兼容性**：广泛支持 Forge、Fabric、NeoForge 和 Quilt 等主流 Mod 加载器，覆盖 1.19 至 1.21.x 等多个新版本。
- **灵活部署**：可以根据需求，仅安装在客户端、仅安装在服务端，或两者都安装，以实现不同程度的保护。

1. **仅在客户端安装**：  
    **效果**：你的客户端将不会发送带有签名的消息，因此他人无法举报你。  
    **限制**：如果服务器开启了 `enforce-secure-profile=true` 强制验证，你将无法发送普通聊天消息。
2. **仅在服务端安装**：  
    **效果**：服务器会剥离所有玩家消息的签名，使服务器内的所有聊天都无法被举报。  
    **限制**：在客户端开启了“仅显示安全的聊天”选项的玩家，将看不到其他人的消息。服务器管理者可以配置 Mod 将玩家消息转为系统消息来规避此问题，但这可能与其他聊天 Mod 冲突。
3. **客户端与服务端同时安装（推荐）**：  
    **效果**：这是最完整的方案。客户端直接发送无签名消息，服务端也不会去验证。聊天举报和“仅显示安全的聊天”功能会彻底失效。  
    **配置**：服务器可以被配置为强制要求客户端也安装此Mod，以确保功能完整性。

### 聊天举报注意事项

**完全有效的前提**：为了达到最佳效果，最好是在**服务端**也安装此 Mod 或采取相应措施禁用聊天举报。不建议在强制开启聊天举报的服务器上游玩。  
**Velocity 兼容**：如果你在使用 Velocity 代理，需要确保其配置文件 `velocity.toml` 中的 `force-key-authentication` 设置为 `false`。  
**配置文件**：该Mod的配置文件为 `NoChatReports.json`，位于 `config` 文件夹内，可供高级用户进行调整。
