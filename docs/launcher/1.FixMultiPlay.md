# 修复“多人游戏已禁用”

当你在游玩 Minecraft 1.16.5 的离线（非正版）时，一般会出现“多人游戏已禁用”的 Bug，导致无法进行联机游戏。  
本文将提供两种有效的解决方案，您可以根据自己的偏好选择其一。

## 问题分析

问题的本质是 **游戏错误地将离线玩家识别为了一个未完全配置的正版玩家**。  
简单来说，1.16.5 使用的旧版验证库(`authlib 2.1.28`)无法正确处理 Mojang 服务器验证失败时返回的新状态码，从而误认为验证成功。  
随后，游戏尝试获取正版账户的社交权限，但因为离线玩家没有这些信息，所有权限（包括多人游戏）都被默认设为`false`（禁用）。  
两种解决方案的核心都是绕过或修复这个有缺陷的验证逻辑。

## 安装修复模组 (推荐，简单快捷)

此方法通过添加一个小型模组来直接修复游戏内的验证逻辑，操作简单，不易出错，适合绝大多数玩家。

根据你使用的模组加载器，从以下链接下载对应的 MultiOfflineFix 模组并安装：  
**Forge:** [MultiOfflineFix-forge-1.0.3+1.16.4.jar](https://github.com/MCTeamPotato/MultiOfflineFix/releases/download/1.0.3/MultiOfflineFix-forge-1.0.3+1.16.4.jar)  
**Fabric:** [MultiOfflineFix-fabric-1.0.3+1.16.4.jar](https://github.com/MCTeamPotato/MultiOfflineFix/releases/download/1.0.3/MultiOfflineFix-fabric-1.0.3+1.16.4.jar)
> **注意：** 尽管文件名中包含 `1.16.4`，但该模组同样完美兼容 `1.16.5` 版本。

## 手动修改版本文件 (一劳永逸)

通过修改游戏的版本配置文件，让游戏加载一个新版本的、无此Bug的验证库，从而从根源上解决问题。

1. 前往游戏根目录 `.minecraft/versions/`，找到你的 1.16.5 版本文件夹，打开其中的 `.json` 文件。
2. 在文件中搜索（`Ctrl+F`）关键词 `authlib`，找到包含 `"name": "com.mojang:authlib:2.1.28"` 的代码块，**删除其中的 `"size"` 和 `"sha1"` 两行**。  
**注意：** 如果有多个 `authlib` 代码块，请全部修改；务必也**删除上一行末尾的逗号** `,`，以免文件格式错误。
3. 使用“全部替换”功能（`Ctrl+H`），查找：`2.1.28` 并全部替换为：`2.3.31`。
4. 保存修改后的 `.json` 文件并重启游戏。
