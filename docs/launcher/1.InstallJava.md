# 安装 Java

Minecraft 分为 Java 版和基岩版，顾名思义，Java 版需要安装 Java 才能运行。
本文章将会指引您如何在系统中安装 Java。

::: tip 提示
目前绝大部分启动器已经内置 Java 的下载，你也可以使用启动器内置的 Java 下载
:::

## 不同发行版区别

很多人在下载 Java 时都会困惑：“为什么有这么多不同的‘Java’？它们有什么区别？”

**OpenJDK (Open Java Development Kit)** 是 Java 平台的官方、开源参考实现。它包含了 Java 虚拟机 (JVM)、类库和 Java 编译器 (`javac`) 的核心源代码。它就像是所有 Java 发行版的“共同祖先”和“引擎”。
**Java 发行版 (JDK Distributions)** 是不同的公司或组织（如 Oracle, Adoptium, Amazon, Microsoft）获取 OpenJDK 的源代码后，自己进行编译、打包、测试，并可能加入一些额外工具或进行性能优化后，提供给用户下载的版本。它们都共享同一个核心，但在支持、许可和附加功能上有所不同。

主流 Java (JDK) 发行版对比

| 发行版 (Distribution) | 主要提供者 | 许可证 (License) | 核心优势 / 特点 | 适用场景 |
| :--- | :--- | :--- | :--- | :--- |
| **Oracle JDK** | Oracle | NFTC (免费条款和条件) | 官方参考实现，被认为是“正统”。商业使用需要付费订阅。 | 个人学习、开发测试、已购买 Oracle 商业支持的企业。 |
| **Adoptium Temurin** | Eclipse Adoptium | GPLv2+CE (完全免费) | **社区驱动，完全免费**，经过严格测试 (TCK)。由 Eclipse 基金会支持。 | **强烈推荐**。个人学习、开源项目、商业生产环境均可免费使用。 |
| **Amazon Corretto** | Amazon | GPLv2+CE (完全免费) | 亚马逊内部使用的版本，经过大规模生产环境验证。**免费且提供长期支持 (LTS)**。 | 通用场景，尤其适合在 AWS 云环境上部署的应用。 |
| **Microsoft Build of OpenJDK** | Microsoft | GPLv2+CE (完全免费) | 微软官方构建和支持的版本。与 VS Code 等微软开发工具有良好集成。 | 通用场景，尤其适合在 Azure 云环境或使用微软开发工具链的开发者。 |
| **Azul Zulu / Platform Core** | Azul Systems | GPLv2+CE (完全免费) | 由专业 Java 公司 Azul 提供。提供覆盖非常广泛的 Java 版本和平台。 | 需要在多种或旧操作系统上支持 Java 的场景。 |
| **Azul Platform Prime** | Azul Systems | 商业许可 | **高性能商业版**。包含独特的 C4 垃圾回收器，专注于极低延迟和高吞吐量。 | 对性能、响应延迟有极致要求的金融交易、实时计算等领域。 |

对于绝大多数在个人电脑上玩 Minecraft 的玩家来说，使用不同的免费 Java 发行版几乎感觉不到任何区别。

### 核心结论：为什么区别不大？

Minecraft Java 版是一个 Java 程序。无论是哪个发行版，它们都基于同一个 **OpenJDK 源代码**。这意味着它们执行游戏代码的方式 99.9% 都是相同的。你的游戏 FPS（每秒帧数）、MOD 兼容性、基本稳定性不会因为从 Temurin 换到 Corretto 而发生肉眼可见的巨大变化。

所有主流的免费发行版都通过了 **TCK (Technology Compatibility Kit)** 测试，确保它们是“合格的 Java”，可以完美运行 Minecraft 及其所有 MOD。

---

### 细微但可能存在的区别

真正的区别主要体现在一个技术细节上：**垃圾回收 (Garbage Collection, GC)**。

*   **简单解释 GC**: Java 在运行时会产生很多临时的“垃圾”数据（比如你走过一个地方后，不再需要加载的方块数据）。GC 就是 Java 虚拟机 (JVM) 自动清理这些垃圾以释放内存的过程。
*   **GC 与 Minecraft 的关系**: 当 GC 工作时，游戏可能会出现一个极其短暂的卡顿，这被称为 **"GC 暂停"** 或 **"Lag Spike"**。你可能遇到过这种情况：游戏平时非常流畅，但会偶尔毫无征兆地卡一下，然后又恢复正常。这很可能就是 GC 引起的。

不同的 Java 发行版在 GC 的默认调优上可能有极其微小的差异，但对于免费版来说，这种差异微乎其微。真正的区别在于商业版的特殊功能。

---

### 不同发行版在玩 MC 时的具体表现

#### 1. Adoptium Temurin / Amazon Corretto / Microsoft Build of OpenJDK (主流免费版)

*   **体验**: 完全一样。你可以把它们看作是不同牌子的、但品质和口味都相同的瓶装水。
*   **性能**: FPS 基本相同。由 GC 引起的卡顿情况也基本相同。
*   **兼容性**: 完美。与所有 MOD（Forge, Fabric, OptiFine, Sodium 等）和启动器（官方启动器, Prism Launcher, MultiMC 等）兼容。
*   **结论**: **随便选一个用就行**。很多现代启动器（如 Prism Launcher）甚至会自动为你下载和管理 Temurin，你根本无需操心。这是最省心、最推荐的选择。

#### 2. Oracle JDK

*   **体验**: 和上面的免费版也几乎完全一样。
*   **性能**: 没有显著优势或劣势。
*   **兼容性**: 完美。
*   **结论**: 玩游戏属于个人使用，完全免费。但社区普遍推荐使用完全开源免费的发行版，以避免任何潜在的许可混淆。没必要特意去用它。

#### 3. Azul Platform Prime (以前叫 Azul Zing) - **特殊商业版**

这是唯一一个能带来**显著不同体验**的发行版，但它需要付费。

*   **体验**: **显著减少或消除卡顿 (Lag Spikes)**。
*   **性能**: 平均 FPS 可能没有提升，但**帧时间的稳定性会大幅提高**。这意味着游戏画面会感觉“如丝般顺滑”，即使在加载新区块或发生复杂事件时，也很少出现突然的卡顿。
*   **原理**: 它包含一个名为 **C4 (Continuously Concurrent Compacting Collector)** 的专利垃圾回收器。这个 GC 几乎可以在不暂停游戏的情况下完成内存清理，从而消除了传统 GC 带来的卡顿问题。
*   **结论**: 如果你是一个对性能要求极高的玩家，拥有高配电脑，但仍然对偶尔的卡顿感到烦恼，那么付费购买 Azul Platform Prime 是一个能**真正解决问题**的方案。对于普通玩家来说，则完全没有必要。

### 如何为 Minecraft 选择和安装 Java

现在，玩家们通常不直接自己安装 Java，而是通过启动器来管理。

1.  **使用现代启动器 (推荐)**:
    *   **Prism Launcher**, **ATLauncher**, **MultiMC** 等第三方启动器都内置了 Java 下载功能。
    *   你可以在设置中为每个游戏实例（整合包）选择不同的 Java 版本。它们通常会默认推荐并下载 **Adoptium Temurin**。
    *   **这是最简单、最灵活的方式**，你可以轻松地为需要 Java 8 的旧整合包和需要 Java 17/21 的新整合包配置不同的 Java 环境。

2.  **使用官方启动器**:
    *   Minecraft 官方启动器现在会自动下载和管理一个它认为合适的 Java 版本（通常是 Microsoft Build of OpenJDK 的一个定制版）。
    *   你也可以在“安装”选项卡中手动指定一个你自己安装的 Java 路径。

### 总结

| 发行版 | 给 MC 玩家的通俗比喻 | 实际体验 | 推荐人群 |
| :--- | :--- | :--- | :--- |
| **Adoptium Temurin, Corretto, Microsoft Build...** | 不同牌子的纯净水 | 几乎完全相同。稳定、可靠、免费。 | **所有玩家**，尤其是使用第三方启动器的玩家。 |
| **Oracle JDK** | 曾经的“原厂”水 | 和其他免费版没区别。 | 没有特别理由，不优先推荐。 |
| **Azul Platform Prime** | “专业电竞选手”喝的功能饮料 | **能有效消除卡顿**，游戏更平滑，但需要付费。 | 对帧率稳定性有极致要求、愿意为此付费的硬核玩家。 |
## 下载安装程序

1. 打开浏览器，访问 Oracle 官方 Java 下载页面：
    [**https://www.oracle.com/java/technologies/downloads/**](https://www.oracle.com/java/technologies/downloads/)

2.  在页面上，您会看到最新的 Java 版本，例如 **JDK 21**。请确保您选择的是这个版本。

3.  您会看到三个操作系统选项卡：**Linux**, **macOS**, 和 **Windows**。请根据您的操作系统，点击对应的选项卡，然后参考下面为您系统准备的下载和安装指南。

1.  **选择并下载文件**:
   在 Oracle 下载页面的 **Windows** 选项卡下。
   找到 **x64 Installer** 这一行。
   点击右侧的下载链接（通常是一个 `.msi` 后缀的文件），例如 `JDK-21_windows-x64_bin.msi`。
1.  **选择并下载文件**:
   在 Oracle 下载页面的 **macOS** 选项卡下。
   根据您的 Mac 芯片类型选择正确的安装包：
       **Apple Silicon (M1/M2/M3 等)**: 选择 **Arm 64 DMG Installer**。
       **Intel 芯片**: 选择 **x64 DMG Installer**。
   点击对应的下载链接（一个 `.dmg` 后缀的文件）。
1.  **选择并下载文件**:
   在 Oracle 下载页面的 **Linux** 选项卡下。
   对于 Ubuntu, Debian 或其他基于 Debian 的系统，请选择 **x64 Debian Package**。
   点击右侧的下载链接（一个 `.deb` 后缀的文件），例如 `jdk-21_linux-x64_bin.deb`。


### **第二步 (分系统操作)：下载并安装 Java**

#### **一、 Windows 系统**


2.  **运行安装程序**:
   下载完成后，双击您下载的 `.msi` 文件以启动安装向导。
   按照屏幕提示操作，通常只需不断点击“下一步 (Next)”即可。您可以接受默认的安装路径（通常是 `C:\Program Files\Java\jdk-21`），也可以自定义。
   等待安装完成，然后点击“关闭 (Close)”。

3.  **配置环境变量 (关键步骤)**:
   在 Windows 搜索栏中搜索 “**环境变量**”，然后点击 “**编辑系统环境变量**”。
   在弹出的“系统属性”窗口中，点击右下角的“**环境变量...**”按钮。
   在“**系统变量**”区域（下方区域），点击“**新建...**”：
       变量名: `JAVA_HOME`
       变量值: `C:\Program Files\Java\jdk-21` (这是您的JDK安装路径，请根据实际情况修改)
   在“**系统变量**”列表中，找到并双击 `Path` 变量进行编辑。
   在编辑窗口中，点击“**新建**”，然后输入 `%JAVA_HOME%\bin`。
   点击“**确定**”保存所有窗口。

4.  **验证安装**:
   **重新打开一个**新的命令提示符 (CMD) 或 PowerShell 窗口（**注意：** 必须是新开的窗口，旧的不会加载新的环境变量）。
   输入以下两个命令，并按回车。如果能看到版本信息，则表示安装成功。
      ```bash
      java -version
      javac -version
      ```

---

#### **二、 macOS 系统**


2.  **运行安装程序**:
   下载完成后，双击打开 `.dmg` 文件。
   一个挂载的磁盘窗口会出现，里面会有一个 `.pkg` 安装包文件。
   双击这个 `.pkg` 文件，启动安装器。
   按照屏幕提示，点击“继续 (Continue)”、“安装 (Install)”，并输入您的 Mac 用户密码以授权安装。
   安装程序会自动将 Java 安装到 `/Library/Java/JavaVirtualMachines/` 目录下，并配置好系统路径。

3.  **配置环境变量 (通常是自动的)**:
   macOS 的安装包通常会自动为您配置好路径，所以 `java` 和 `javac` 命令可以直接使用。
   对于某些开发工具，您可能仍需手动设置 `JAVA_HOME`。可以编辑 `~/.zshrc` 文件 (适用于默认的 Zsh shell)：
       打开终端 (Terminal)。
       输入 `nano ~/.zshrc` 并回车。
       在文件末尾添加以下行：
          ```bash
          export JAVA_HOME=$(/usr/libexec/java_home)
          export PATH=$JAVA_HOME/bin:$PATH
          ```
       按 `Control + X`，然后按 `Y` 保存，再按回车确认。
       执行 `source ~/.zshrc` 使配置立即生效。

4.  **验证安装**:
   打开终端 (Terminal) 应用。
   输入以下两个命令，并按回车。如果能看到版本信息，则表示安装成功。
      ```bash
      java -version
      javac -version
      ```

---

#### **三、 Linux 系统 (以 Ubuntu/Debian 为例)**



2.  **使用终端安装**:
   打开终端 (Terminal)。
   首先，切换到您下载文件所在的目录，通常是“下载”文件夹：
      ```bash
      cd ~/Downloads
      ```
   使用 `dpkg` 命令进行安装。您需要管理员权限，所以使用 `sudo`。请将文件名替换为您实际下载的文件名。
      ```bash
      sudo dpkg -i jdk-21_linux-x64_bin.deb
      ```
   输入您的用户密码，然后等待安装完成。它通常会将 Java 安装到 `/usr/lib/jvm/` 目录下。

3.  **配置环境变量**:
   虽然 `.deb` 包可能会尝试配置路径，但手动设置更可靠。
   编辑您 shell 的配置文件，对于大多数现代 Linux 系统是 `~/.bashrc` 或 `~/.zshrc`。这里以 `~/.bashrc` 为例：
      ```bash
      nano ~/.bashrc
      ```
   在文件的末尾添加以下内容（请确认您的 JDK 文件夹名称是否与下面一致）：
      ```bash
      # 设置 JAVA_HOME
      export JAVA_HOME=/usr/lib/jvm/jdk-21-oracle-x64
      export PATH=$JAVA_HOME/bin:$PATH
      ```
   按 `Ctrl + X`，然后按 `Y` 保存，再按回车确认。
   让配置立即生效：
      ```bash
      source ~/.bashrc
      ```

4.  **验证安装**:
   **重新打开一个**新的终端窗口。
   输入以下两个命令，并按回车。如果能看到版本信息，则表示安装成功。
      ```bash
      java -version
      javac -version
      ```

### **总结与重要提示**

**JDK vs JRE**: 您下载的是 **JDK (Java Development Kit)**，它包含了开发 Java 程序所需的一切（如编译器 `javac`）以及运行 Java 程序的环境 (JRE)。如果您只是想运行 Java 程序，JRE 就足够了，但对于开发者来说，JDK 是必需的。
**验证是关键**: 无论在哪种系统上，最后一步通过 `java -version` 和 `javac -version` 进行验证，是确认您安装和配置是否成功的最终标准。
