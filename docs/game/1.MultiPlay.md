# 如何联机

想和朋友一起在方块世界里探险、建造、生存吗？这篇教程将带你一步步实现联机梦想！  
首先，你需要确认游戏版本，《我的世界》主要有两个版本，**不同版本的玩家一般无法直接联机**。

## 官方推荐的稳定方式 - Minecraft Realms

Realms 是官方提供的付费服务器租赁服务，一个永远在线、安全私密的小世界。

- **优点**：
  - **7x24 小时在线**：任何人随时都可以上线玩，不需要服主在线。
  - **极其稳定和安全**：官方维护，自动备份。
  - **设置超级简单**：无需任何技术知识。
- **缺点**：
  - **付费**：需要按月订阅。
  - **自定义性差**：Java 版的 Realms 不支持 Mod 和大部分插件。
  - **国内网络较为卡顿**：Realms 服务器主要分布在国外，国内访问受到一定限制。

1. **一个人（服主）购买 Realms 服务。**  
   - **Java 版**：在游戏主菜单点击“**Minecraft Realms**”，按照指引创建和购买。
   - **基岩版**：在主菜单点击“**游戏**”，在“世界”列表顶部选择“**创建新内容**”，然后选择“**新Realm**”并购买。
2. **服主设置 Realm**，可以上传一个现有的世界，或者创建一个新世界。
3. **服主邀请朋友。** 在 Realm 的管理界面，输入朋友的游戏 ID（Java 版是玩家名，基岩版是 Gamertag）来发送邀请。
4. **被邀请的玩家** 会在游戏内的 Realms/ 朋友界面看到邀请，接受后即可随时加入游戏。

## 基岩版在线好友联机

这是基岩版玩家最常用的远程联机方式。

- **优点**：免费、支持跨平台、相对简单。
- **缺点**：需要稳定的互联网连接。主机关闭游戏，世界就关闭了。

1. **确保所有玩家都拥有一个免费的微软/Xbox Live账号，并登录。**
2. **互相添加为好友。** 你需要知道朋友的 **Gamertag** (游戏 ID)。在游戏主菜单的“朋友”选项卡中可以添加好友。
3. **一个人（主机）进入一个世界。**
4. 主机打开菜单，点击右侧的“**邀请至游戏 (Invite to Game)**”，从你的好友列表中选择要邀请的朋友。
5. 其他玩家会收到一个游戏邀请通知，直接接受即可加入。或者，在“**朋友 (Friends)**”选项卡中，可以看到正在玩游戏的好友，直接点击他们的世界加入。

## 局域网 (LAN) 联机

这种方法适合在同一个屋子里，连接着同一个Wi-Fi/路由器的朋友们。

- **优点**：免费、超低延迟、设置简单。
- **缺点**：所有玩家必须在同一个物理网络内。主机关闭游戏，世界就关闭了。

1. **确保所有人都连接到同一个Wi-Fi网络。**
2. **一个人（作为“主机”）进入一个单人游戏世界。**
3. **主机操作：**
   - **Java 版**：按下 `Esc` 键打开菜单，点击“**对局域网开放 (Open to LAN)**”，设置其他玩家的游戏模式和是否允许作弊，然后点击“**创造一个局域网世界 (Start LAN World)**”。此时，聊天框会显示一个端口号（例如 `54321`），记住它。
   - **基岩版**：进入世界后，打开游戏菜单，在右侧的“多人游戏”设置中，确保“**局域网玩家可见 (Visible to LAN Players)**”选项是开启的。
4. **其他玩家操作：**
   - **Java 版**：在主菜单点击“**多人游戏 (Multiplayer)**”，在服务器列表的底部，游戏会自动扫描并显示一个“局域网中的世界”，直接点击加入即可。如果没找到，可以点击“**直接连接 (Direct Connect)**”，输入主机的 `IP地址:端口号`（例如 `192.168.1.101:54321`）。
   - **基岩版**：在主菜单点击“**游戏 (Play)**”，切换到“**朋友 (Friends)**”选项卡，在“局域网游戏”下应该就能看到主机的世界，点击加入。

## 加入/自建服务器

这是 Java 版最核心、最有趣的联机方式，给你最大的控制权和无限的可能性。

### 加入公共服务器

网上有成千上万的服务器，提供生存、创造、小游戏（起床战争、空岛战争等）各种玩法。

1. 进入游戏后，单击 "多人游戏"。
2. 如果选择 "直接连接" 按钮，则输入服务器地址（即 IP），然后点击 "加入服务器"。
3. 如果选择 "添加服务器" 按钮，则输入服务器名称、服务器地址（即 IP），然后点击 "完成"，此时在列表中就会显示这个服务器。

一般服务器地址格式如下：

- ✔  mc.hypixel.net
- ✔  mc.example.com:25565
- ✔  233.233.233.233:12345
- ✔  1122:3344:5566:7788:9900:aabb:ccdd:eeff
- ✔  [1122:3344:5566:7788:9900:aabb:ccdd:eeff]:12345

::: tip 注意
其中 `.` 和 `:` 为英文符号，请勿输入中文符号！
:::

### 自建服务器

如果你想拥有一个完全属于自己、可以安装Mod和插件、7x24小时在线的永久世界，可以自己搭建服务器。这需要一定的技术知识，请参考[创建服务器](./server/2.CreateServer.md)。

- **优点**：完全控制权、支持Mod和插件、可容纳大量玩家。
- **缺点**：**设置非常复杂**，需要了解网络知识（端口转发），对电脑性能和网络带宽有要求，且有一定安全风险。

## 利用IPv6直接连接 (现代网络方案)

如果你的网络服务商（ISP）已经为你和你的朋友提供了 IPv6 地址，那么这可能是最简单、最直接的“公网”联机方式，可以完全绕过IPv4下的端口转发难题。

- **核心原理：**在IPv6网络中，理论上每个设备都有一个独一无二的全球公网地址，不再需要 NAT（网络地址转换）。因此，只要防火墙允许，你可以直接通过这个地址访问朋友的电脑。
- **前提条件：**你（主机）和所有要加入的朋友，都必须拥有有效的公网 IPv6 地址。主机端的路由器和电脑防火墙，必须允许外部通过 IPv6 访问 Minecraft 的端口（默认为 25565）。
- **优点**：无需端口转发，延迟低（理论上），是未来的趋势。
- **缺点**：**依赖于所有玩家的ISP都支持IPv6**，对防火墙设置有要求，IPv6地址长且难记（可能会变动）。

**操作步骤：**

1. 访问网站 `http://test-ipv6.com/` 或 `http://ipv6.test-ipv6.com/`。如果网站显示你的IPv6地址并且测试得分是10/10，那么恭喜你，你的网络支持IPv6。
2. **主机获取自己的IPv6地址：**
   - **Windows:** 按下 `Win + R`，输入 `cmd` 打开命令提示符，然后输入 `ipconfig`。在你的网络连接（如“以太网适配器”或“无线局域网适配器”）下，找到以 `240` 等开头的“**IPv6 地址**”或“**临时 IPv6 地址**”。它通常是一长串由冒号分隔的十六进制数。**请勿使用“本地链接 IPv6 地址”（通常以 `fe80::` 开头）。**
   - **macOS/Linux:** 打开终端，输入 `ifconfig` 或 `ip a`，查找类似 `inet6` 后面跟着的公网地址。
3. **主机开放服务器和防火墙：**进入单人世界并“**对局域网开放**”，记下端口号（例如 `54321`）。去你的**电脑防火墙**（如 Windows Defender 防火墙）设置里，添加入站规则，允许TCP协议的端口 `54321` (或你设定的端口) 被任何IPv6地址访问。
4. **朋友加入游戏：** 在主菜单点击“**多人游戏**” -> “**直接连接**”。输入服务器地址，格式为：`[主机的IPv6地址]:端口号`

## 虚拟局域网 (Virtual LAN)

如果你是Java版玩家，想和远方的朋友玩，但觉得自建服务器太复杂，又不想花钱，可以试试这个方法。它通过软件（ZeroTier 或 Radmin VPN）模拟一个局域网。

- **优点**：免费、无需复杂的端口转发设置。
- **缺点**：比真实局域网延迟稍高，依赖第三方软件的稳定性。主机下线，世界依然会关闭。

**以 ZeroTier 为例：**

1. **所有玩家都下载并安装 ZeroTier。**
2. **一个人（主机）** 在 ZeroTier 官网上注册账号，创建一个新的虚拟网络 (Create A Network)，你会得到一个 **Network ID**。
3. **所有玩家** 打开自己电脑上的 ZeroTier 客户端，点击 "Join New Network"，输入那个 Network ID。
4. **主机** 需要在网站的网络管理页面，为所有新加入的成员打勾授权。
5. **授权后，所有人就都在同一个虚拟局域网里了。** 每个人都会在 ZeroTier 客户端里看到一个由 ZeroTier 分配的IP地址。
6. **主机** 像 **方法一（局域网联机）** 那样，进入单人世界并“对局域网开放”。
7. **其他玩家** 在游戏里点击“直接连接”，输入 **主机在ZeroTier里的IP地址** 和游戏给出的 **端口号**，即可加入。

## 使用内网穿透 (FRP)

FRP（Fast Reverse Proxy）是目前最强大、最灵活的解决方案，对普通玩家来说，平衡了成本、操作难度和联机效果，具体可参考[使用内网穿透 (FRP)](2.UseFrp.md)。

## 总结与推荐

| 方法 | 适合人群 | 优点 | 缺点 | 技术门槛 |
| :--- | :--- | :--- | :--- | :--- |
| **局域网联机** | 同处一室的朋友、家庭成员 | 免费、稳定、简单 | 距离限制 | ★☆☆☆☆ |
| **基岩版好友联机** | 基岩版玩家（手机/主机/Win10） | 免费、跨平台、方便 | 主机需在线 | ★☆☆☆☆ |
| **Minecraft Realms** | 怕麻烦、想稳定省心的朋友小团体 | 极其简单、永远在线、安全 | 付费、自定义性差 | ☆☆☆☆☆ |
| **加入公共服务器** | 喜欢热闹、想玩小游戏的玩家 | 免费、玩法多样 | 服务器质量参差不齐 | ★☆☆☆☆ |
| **虚拟局域网** | Java版玩家，不想折腾端口转发 | 免费、绕过网络限制 | 延迟可能较高、主机需在线 | ★★☆☆☆ |
| **IPv6直连** | 网络环境支持IPv6的玩家 | 免费、无需端口转发、延迟低 | 依赖ISP、需配置防火墙 | ★★★☆☆ |
| **自建服务器(端口转发)** | 技术爱好者、想完全自定义的硬核玩家 | 完全控制、支持Mod | 极其复杂、依赖公网IPv4 | ★★★★☆ |
| **FRP内网穿透** | 追求极致稳定、不怕折腾的技术玩家 | 极其稳定、无视网络限制 | **需要付费云服务器、技术门槛最高** | ★★★★★ |

**最终建议:**

- **基岩版玩家**：首选 **好友联机**。
- **Java版玩家，同处一室**：首选 **局域网**。
- **Java版玩家，远程联机**：
  - **检查网络**：先试试 **IPv6直连**，如果所有人都支持，这是最优雅的免费方案。
  - **简单方案**：如果IPv6不行，可以尝试 **虚拟局域网**。
  - **省心方案**：如果预算充足且不想折腾，强烈推荐 **Minecraft Realms**。
  - **终极方案**：如果你愿意投入少量资金和时间，追求最稳定、最可控的私人体验，**FRP** 是你的不二之选。
