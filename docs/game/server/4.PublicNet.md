# 让你的朋友

现在服务器只在你自己的电脑上运行，朋友还无法加入。这里有两种情况。

## **情况一：内网联机 (局域网)**

如果你的朋友和你连接的是同一个 WiFi 或路由器，这非常简单。

1. **服主 (你) 获取内网 IP:**
    按下 `Win + R`，输入 `cmd` 并回车。
    在命令提示符中输入 `ipconfig` 并回车。
    找到“无线局域网适配器 WLAN”或“以太网适配器 以太网”下的 “IPv4 地址”，通常是 `192.168.x.x` 的形式。这就是你的内网 IP。
2. **朋友连接:**
    打开 Minecraft 游戏 -> 多人游戏 -> 添加服务器。
    服务器地址填写你刚刚找到的内网 IP (例如 `192.168.1.100`)。
    即可加入游戏！

## **情况二：公网联机 (互联网)**

如果你想让不在同一个地方的朋友加入，就需要进行 **端口转发 (Port Forwarding)**。这是本教程最复杂但也是最关键的一步。

**原理简述:** 你的路由器像一个大门保安，默认会阻止外来访问。端口转发就是告诉保安：“如果有人要访问 25565 端口（Minecraft 默认端口），就让他进来，并带他去找我这台开服的电脑。”

**步骤:**

1. **固定你的内网 IP:** 为了防止你的内网 IP 变动导致端口转发失效，建议先静态绑定 IP。这一步可以暂时跳过，如果以后连不上了再来设置。
2. **进入路由器管理后台:**
    在浏览器地址栏输入你的 **路由器网关地址**。通常是 `192.168.1.1` 或 `192.168.0.1`。（同样可以在 `ipconfig` 命令结果中找到“默认网关”）。
    输入用户名和密码登录。默认的账号密码通常在路由器背面的标签上。
3. **找到“端口转发”或“虚拟服务器”功能:**
    这个功能的名字在不同品牌的路由器上可能不同，常见名称有：`端口转发`、`端口映射`、`虚拟服务器`、`Port Forwarding`。通常在“高级设置”或“NAT 设置”里。
4. **添加新规则:**
    **服务端口号 (或外部端口):** `25565`
    **内部端口号:** `25565`
    **IP 地址 (或内部 IP):** 填写你之前 `ipconfig` 查到的那台开服电脑的内-   网 IP 地址 (例如 `192.168.1.100`)。
    **协议:** 选择 **TCP** (有些路由器需要同时添加 UDP，可以选 `ALL` 或 `TCP/UDP`)。
    **名称:** 随便填，例如 `Minecraft Server`。
    保存规则。
5. **获取你的公网 IP:**
    在浏览器中搜索“IP”或访问 [ip.sb](https://ip.sb) 等网站，显示出的就是你的公网 IP 地址。
6. **朋友连接:**
    将你的 **公网 IP** 发给你的朋友。他们就可以通过这个 IP 地址连接你的服务器了。

**重要提示:**
**防火墙:** 确保你的 Windows 防火墙或任何杀毒软件没有阻止 Java 或 25565 端口。你可能需要在防火墙设置中为 `Java(TM) Platform SE binary` 添加入站和出站规则，允许其通过。
**公网 IP 可能会变动:** 大部分家庭宽带的公网 IP 是动态的，每次重启路由器可能会变。如果变了，你需要重新获取并告诉你的朋友。可以使用 DDNS 服务来解决这个问题（进阶内容）。
**备选方案 (更简单安全):** 如果你觉得端口转发太复杂，或因为网络限制无法操作，可以尝试使用 **内网穿透** 工具，如 `Sakura Frp`、`ngrok` 或 `ZeroTier`。它们能创建一个虚拟局域网，让朋友们轻松连接，且无需暴露你的公-   网 IP，更安全。
